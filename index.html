<!DOCTYPE html>
<html>
    <head>

        <style>
            @import url('sp://import/css/api.css');
            @import url('sp://import/css/list.css');
            @import url('sp://import/css/player.css');
            @import url('sp://import/css/eve.css');
            #mapdiv {height:300px;}
        </style>
        <script src="sp://radiomap/js/jquery.min.js"></script>
    </head>
    <body onload="sp = getSpotifyApi(1); tutorial = sp.require('tutorial'); tutorial.init();">
       <div id="wrapper">
            <div id="mapdiv" onclick=display_country_name(event)></div>
            <div id="country_name">Country</div>
        </div><!-- /wrapper -->
        <script src="https://raw.github.com/simplegeo/polymaps/master/polymaps.js"></script>
        <script type="text/javascript">
        var po = org.polymaps;
        var map_div = document.getElementById('mapdiv');
        var userMap = po.map()
            .container(document.getElementById("mapdiv")
            .appendChild(po.svg("svg")))
            .center({lat: 40, lon: 0})
            .zoomRange([1, 4])
            .zoom(2)
            .add(po.interact())
            .add(po.hash());
                    
        userMap.add(po.image()
    .url(po.url("http://{S}tile.cloudmade.com"
    + "/1a1b06b230af4efdbb989ea99e9841af" // http://cloudmade.com/register
    + "/999/256/{Z}/{X}/{Y}.png")
    .hosts(["a.", "b.", "c.", ""])));

        userMap.add(po.compass().pan("none"));
        
        function display_country_name(e) {
            x_y = userMap.mouse(e)
            lat_lon = userMap.pointLocation(x_y)
//           country_name = lat_lon.lat + "," + lat_lon.lon
            country_name = fetch_country_name(lat_lon.lat, lat_lon.lon)
            
            document.getElementById("country_name").innerHTML = country_name
        };
        
        function fetch_country_name(lat, lon) {
            return lat_lon.lat + "," + lat_lon.lon;
                
        }
        </script>
     <div id="player"></div>
    </body>
</html>
