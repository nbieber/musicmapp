<!DOCTYPE html>

<!--
Copyright (c) 2012 Nicole Bieber and Johny Urgiles.
Powered by Leaflet and Last.fm 
-->

<html>
    <head>

        <style>
            @import url('sp://import/css/api.css');
            @import url('sp://import/css/list.css');
            @import url('sp://import/css/player.css');
            @import url('sp://import/css/eve.css');
            @import url('sp://musicmapp/candela/stylesheet.css');
            @import url('sp://musicmapp/leaflet/leaflet.css');
            @import url('sp://musicmapp/css/sortlist.css');

            html {background-color: black}
            body {background-color: black; overflow-x: hidden;}
            #mapdiv {overflow: hidden;height:360px;}
            #branded_area {height:36px; text-align:center;
            z-index: 100;
            background: -webkit-linear-gradient(top, #010f18 0%,#062a40 100%);}
            #app_name {padding-top:10px; color: white; font-family:'CandelaBook';  font-size: 24px;
                         text-shadow: #6374AB -2px 1px 1px;}
                       
            #header_text {padding: 10px; }
            
            .leaflet_popup_pane,
            .leaflet_tile_pane,
            .leaflet-control-attribution,
            .leaflet-popup-close-button {display: none;}

            .left {float:left; width:10em; margin: 10px;} 
            .right {float:right; width:10em; margin: -10px;}

            .add-playlist {position:absolute; top: 364px; left:10px;}

            .bottom {overflow: hidden;}

            .sp-list {max-height: 100000px;}

            #welcome {margin: auto; text-align: center; font-size: 36px; margin-top: 50px;}
            #lastfm {position:absolute; top: 364px;}
        </style>
        <script src="sp://musicmapp/leaflet/leaflet-src.js"></script>
        <script src="sp://musicmapp/js/jquery.min.js"></script>
        <script src="sp://musicmapp/js/listmagic.js"></script>       
    </head>

    <body onload="setup_highlights(); set_bottom_height();">
   
    <div id="body"> 
        <div id="top">
            <div id="branded_area">
                 <div id="app_name">MusicMapp</div>
            </div>
            <div id="wrapper">
                <div id="mapdiv"></div>
            </div><!-- /wrapper -->
            <script src="sp://musicmapp/js/map.js"></script>
            
            <div class="left">
                <button class="add-playlist button icon" onclick="CopyViewToNamedPlaylist();"><span class="plus"></span>Add as Playlist</button>
            </div>
            <div class="right">
                <img id="lastfm" src="sp://musicmapp/img/lastfm.png" width="100px"></img>
            </div>
             
        </div>
        <div id="bottom">
            <div id="collection-sort" class="sortlist"><div>
            <span sort="tracks-sort-starred" class="sort tracks-sort-starred"><span class="sp-icon-star"></span></span>
            <span sort="tracks-sort-collected" class="sort tracks-sort-collected"></span>
            <span sort="tracks-sort-name" class="sort tracks-sort-name">Track</span>
            <span sort="tracks-sort-album" class="sort tracks-sort-album selected">Artist</span>
            <span sort="tracks-sort-year" class="sort tracks-sort-year">Year</span>
            <span sort="tracks-sort-popularity" class="sort tracks-sort-popularity">Album</span>
            </div></div>

             <div id="player">
                <div id="welcome">Welcome!  Click on a country to start.</div>
             </div>
        </div>
    </div>

    <script>
    
    function setup_highlights() {
        $('path:first').trigger('click');

        $('path').click(function () {
            $('path').css('stroke','blue')
            $('path').css('fill','blue')
            $(this).css('stroke','lime')
            $(this).css('fill','lime')
        });
    }

    function set_bottom_height() {
        var bottom_height = window.innerHeight - $('#top').height();
        console.log( bottom_height);
        $('.sp-list').css('max-height', bottom_height);
        
    }
    </script>
    </body>
</html>
