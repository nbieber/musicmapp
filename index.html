<!DOCTYPE html>

<!--
Copyright (c) 2012 Nicole Bieber and Johny Urgiles.
Powered by Leaflet and Last.fm 
-->

<html>
    <head>

        <style>
            @import url('sp://import/css/api.css');
            @import url('sp://import/css/list.css');
            @import url('sp://import/css/player.css');
            @import url('sp://import/css/eve.css');
            @import url('sp://radiomap/candela/stylesheet.css');
            @import url('sp://radiomap/leaflet/leaflet.css');
            @import url('sp://radiomap/css/sortlist.css');

            html {background-color: #010f18;}
            body {background-color: #010f18; overflow-x: hidden;}
            #mapdiv {overflow: hidden;height:360px;}
            #branded_area {height:36px; text-align:center;
            z-index: 100;
            background: -webkit-linear-gradient(top, #010f18 0%,#062a40 100%);}
            #app_name {padding-top:10px; color: white; font-family:'CandelaBook';  font-size: 24px;
                         text-shadow: #6374AB -2px 2px 1px;}
                       
            #header_text {padding: 10px;}
            
            .leaflet_popup_pane,
            .leaflet_tile_pane,
            .leaflet-control-attribution {display: none;}

            .left {float:left; width:10em; margin: 10px;} 
            .right {float:right; width:10em;}

            .add-playlist {position:absolute; top: 364px; left:10px;}
        </style>
        
        <script src="sp://radiomap/leaflet/leaflet-src.js"></script>
        <script src="sp://radiomap/js/jquery.min.js"></script>
        <script src="sp://radiomap/js/lastfm.js"></script>
    </head>

    <body onload="sp = getSpotifyApi(1); tutorial = sp.require('tutorial'); tutorial.init(); setup_highlights();">
   
    <div id="body"> 
         <div id="branded_area">
             <div id="app_name">MusicMapp</div>
         </div>
         <div id="wrapper">
            <div id="mapdiv"></div>
         </div><!-- /wrapper -->
         <script src="sp://radiomap/js/map.js"></script>
         
         <button class="add-playlist button icon"><span class="plus"></span>Add as Playlist</button>
        
        <div id="collection-sort" class="sortlist">
            <div>
                <span sort="tracks-sort-starred" class="sort tracks-sort-starred"><span class="sp-icon-star"></span></span>
                <span sort="tracks-sort-collected" class="sort tracks-sort-collected"></span>
                <span sort="tracks-sort-name" class="sort tracks-sort-name">Track</span>
                <span sort="tracks-sort-album" class="sort tracks-sort-album selected">Artist</span>
                <span sort="tracks-sort-year" class="sort tracks-sort-year">Time</span>
            </div>
        </div>

         <div id="player"></div>
    </div>

    <script>
    
    function setup_highlights() {
        $('path').click(function () {
            $('path').css('stroke','blue')
            $('path').css('fill','blue')
            $(this).css('stroke','lime')
            $(this).css('fill','lime')
        });
        
    }
    
    function getSongsForSelectedCountry() {
        var country = $('.leaflet-popup-content').text();
        if(country.length > 0)
            getLastFmTopTrack(country);
    }
    
    </script>
    </body>
</html>
